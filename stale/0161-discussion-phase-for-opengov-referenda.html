
<!DOCTYPE HTML>
<html lang="en" class="polkadot" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>RFC-0161: Discussion Period for OpenGov Referenda - Polkadot Fellowship RFCs</title>


        <!-- Custom HTML head -->
        
        <meta name="description" content="An online book of RFCs approved or proposed within the Polkadot Fellowship.">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="../theme/polkadot.css">

    </head>
    <body class="sidebar-visible no-js">
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "polkadot" : "polkadot";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('polkadot')
            html.classList.add(theme);
            var body = document.querySelector('body');
            body.classList.remove('no-js')
            body.classList.add('js');
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var body = document.querySelector('body');
            var sidebar = null;
            var sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            body.classList.remove('sidebar-visible');
            body.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="../introduction.html">Introduction</a></li><li class="spacer"></li><li class="chapter-item expanded affix "><li class="part-title">Newly Proposed</li><li class="spacer"></li><li class="chapter-item expanded affix "><li class="part-title">Proposed</li><li class="chapter-item expanded "><a href="../proposed/0000-rewards.html">RFC-0000: Validator Rewards</a></li><li class="chapter-item expanded "><a href="../proposed/00xx-secondary-marketplace-for-regions.html">RFC-0001: Secondary Market for Regions</a></li><li class="chapter-item expanded "><a href="../proposed/00xx-smart-contracts-coretime-chain.html">RFC-0002: Smart Contracts on the Coretime Chain</a></li><li class="chapter-item expanded "><a href="../proposed/0114-secp256r1-hostfunction.html">RFC-0114: Introduce secp256r1_ecdsa_verify_prehashed Host Function to verify NIST-P256 elliptic curve signatures</a></li><li class="chapter-item expanded "><a href="../proposed/0120-referenda-confirmation-by-candle-mechanism.html">RFC-0120: Referenda Confirmation by Candle Mechanism</a></li><li class="chapter-item expanded "><a href="../proposed/0156-bls-signatures.html">RFC-0156: Add BLS12-381 Host Functions</a></li><li class="chapter-item expanded "><a href="../proposed/0160-pub-sub-mechanism.html">RFC-0160: PubSub Mechanism</a></li><li class="chapter-item expanded "><a href="../proposed/0162-antitrust-omnibus.html">RFC-0162: The Ecosystem Anti-Trust & Market Structure Omnibus</a></li><li class="chapter-item expanded "><a href="../proposed/0163-ec-host-functions.html">RFC-0163: Elliptic Curves Host Functions</a></li><li class="chapter-item expanded "><a href="../proposed/TODO-stale-nomination-reward-curve.html">RFC-TODO: Stale Nomination Reward Curve</a></li><li class="spacer"></li><li class="chapter-item expanded affix "><li class="part-title">Approved</li><li class="chapter-item expanded "><a href="../approved/0001-agile-coretime.html">RFC-1: Agile Coretime</a></li><li class="chapter-item expanded "><a href="../approved/0005-coretime-interface.html">RFC-5: Coretime Interface</a></li><li class="chapter-item expanded "><a href="../approved/0007-system-collator-selection.html">RFC-0007: System Collator Selection</a></li><li class="chapter-item expanded "><a href="../approved/0008-parachain-bootnodes-dht.html">RFC-0008: Store parachain bootnodes in relay chain DHT</a></li><li class="chapter-item expanded "><a href="../approved/0009-improved-net-light-client-requests.html">RFC-0009: Improved light client requests networking protocol</a></li><li class="chapter-item expanded "><a href="../approved/0010-burn-coretime-revenue.html">RFC-0010: Burn Coretime Revenue</a></li><li class="chapter-item expanded "><a href="../approved/0012-process-for-adding-new-collectives.html">RFC-0012: Process for Adding New System Collectives</a></li><li class="chapter-item expanded "><a href="../approved/0013-prepare-blockbuilder-and-core-runtime-apis-for-mbms.html">RFC-0013: Prepare Core runtime API for MBMs</a></li><li class="chapter-item expanded "><a href="../approved/0014-improve-locking-mechanism-for-parachains.html">RFC-0014: Improve locking mechanism for parachains</a></li><li class="chapter-item expanded "><a href="../approved/0017-coretime-market-redesign.html">RFC-0017: Coretime Market Redesign</a></li><li class="chapter-item expanded "><a href="../approved/0022-adopt-encointer-runtime.html">RFC-0022: Adopt Encointer Runtime</a></li><li class="chapter-item expanded "><a href="../approved/0026-sassafras-consensus.html">RFC-0026: Sassafras Consensus Protocol</a></li><li class="chapter-item expanded "><a href="../approved/0032-minimal-relay.html">RFC-0032: Minimal Relay</a></li><li class="chapter-item expanded "><a href="../approved/0042-extrinsics-state-version.html">RFC-0042: Add System version that replaces StateVersion on RuntimeVersion</a></li><li class="chapter-item expanded "><a href="../approved/0043-storage-proof-size-hostfunction.html">RFC-0043: Introduce storage_proof_size Host Function for Improved Parachain Block Utilization</a></li><li class="chapter-item expanded "><a href="../approved/0045-nft-deposits-asset-hub.html">RFC-0045: Lowering NFT Deposits on Asset Hub</a></li><li class="chapter-item expanded "><a href="../approved/0047-assignment-of-availability-chunks.html">RFC-0047: Assignment of availability chunks to validators</a></li><li class="chapter-item expanded "><a href="../approved/0048-session-keys-runtime-api.html">RFC-0048: Generate ownership proof for SessionKeys</a></li><li class="chapter-item expanded "><a href="../approved/0050-fellowship-salaries.html">RFC-0050: Fellowship Salaries</a></li><li class="chapter-item expanded "><a href="../approved/0056-one-transaction-per-notification.html">RFC-0056: Enforce only one transaction per notification</a></li><li class="chapter-item expanded "><a href="../approved/0059-nodes-capabilities-discovery.html">RFC-0059: Add a discovery mechanism for nodes based on their capabilities</a></li><li class="chapter-item expanded "><a href="../approved/0078-merkleized-metadata.html">RFC-0078: Merkleized Metadata</a></li><li class="chapter-item expanded "><a href="../approved/0084-general-transaction-extrinsic-format.html">RFC-0084: General transactions in extrinsic format</a></li><li class="chapter-item expanded "><a href="../approved/0091-dht-record-creation-time.html">RFC-0091: DHT Authority discovery record creation time</a></li><li class="chapter-item expanded "><a href="../approved/0097-unbonding_queue.html">RFC-0097: Unbonding Queue</a></li><li class="chapter-item expanded "><a href="../approved/0099-transaction-extension-version.html">RFC-0099: Introduce a transaction extension version</a></li><li class="chapter-item expanded "><a href="../approved/0100-xcm-multi-type-asset-transfer.html">RFC-0100: New XCM instruction: InitiateAssetsTransfer</a></li><li class="chapter-item expanded "><a href="../approved/0101-xcm-transact-remove-max-weight-param.html">RFC-0101: XCM Transact remove require_weight_at_most parameter</a></li><li class="chapter-item expanded "><a href="../approved/0103-introduce-core-index-commitment.html">RFC-0103:  Introduce a CoreIndex commitment and a SessionIndex field in candidate receipts</a></li><li class="chapter-item expanded "><a href="../approved/0105-xcm-improved-fee-mechanism.html">RFC-0105: XCM improved fee mechanism</a></li><li class="chapter-item expanded "><a href="../approved/0107-xcm-execution-hints.html">RFC-0107: XCM Execution hints</a></li><li class="chapter-item expanded "><a href="../approved/0108-xcm-remove-testnet-ids.html">RFC-0108: Remove XCM testnet NetworkIds</a></li><li class="chapter-item expanded "><a href="../approved/0122-alias-origin-on-asset-transfers.html">RFC-0122: Asset transfers can alias XCM origin on destination to original origin</a></li><li class="chapter-item expanded "><a href="../approved/0123-pending-code-as-storage-location-for-runtime-upgrades.html">RFC-0123: Introduce :pending_code as intermediate storage key for the runtime code</a></li><li class="chapter-item expanded "><a href="../approved/0125-xcm-asset-metadata.html">RFC-0125: XCM Asset Metadata</a></li><li class="chapter-item expanded "><a href="../approved/0126-introduce-pvq.html">RFC-0126: Introduce PVQ (PolkaVM Query)</a></li><li class="chapter-item expanded "><a href="../approved/0135-compressed-blob-prefixes.html">RFC-0135: Compressed Blob Prefixes</a></li><li class="chapter-item expanded "><a href="../approved/0139-faster-erasure-coding.html">RFC-0139: Faster Erasure Coding</a></li><li class="chapter-item expanded "><a href="../approved/0145-remove-unnecessary-allocator-usage.html">RFC-0145: Remove the host-side runtime memory allocator</a></li><li class="chapter-item expanded "><a href="../approved/0146-deflationary-fee-proposal.html">RFC-0146: Deflationary Transaction Fee Model for the Relay Chain and its System Parachains</a></li><li class="chapter-item expanded "><a href="../approved/0149-rfc-1-renewal-adjustment.html">RFC-0149: Renewal Adjustment</a></li><li class="chapter-item expanded "><a href="../approved/0150-voting-while-delegating.html">RFC-150: Allow Voting While Delegating</a></li><li class="spacer"></li><li class="chapter-item expanded affix "><li class="part-title">Stale</li><li class="chapter-item expanded "><a href="../stale/0000-pre-elves_soft.html">RFC-0000: Pre-ELVES soft concensus</a></li><li class="chapter-item expanded "><a href="../stale/0004-remove-unnecessary-allocator-usage.html">RFC-0004: Remove the host-side runtime memory allocator</a></li><li class="chapter-item expanded "><a href="../stale/0006-dynamic-pricing-for-bulk-coretime-sales.html">RFC-0006: Dynamic Pricing for Bulk Coretime Sales</a></li><li class="chapter-item expanded "><a href="../stale/0034-xcm-absolute-location-account-derivation.html">RFC-34: XCM Absolute Location Account Derivation</a></li><li class="chapter-item expanded "><a href="../stale/0035-conviction-voting-delegation-modifications.html"> RFC-0035: Conviction Voting Delegation Modifications</a></li><li class="chapter-item expanded "><a href="../stale/0044-rent-based-registration.html">RFC-0044: Rent based registration model</a></li><li class="chapter-item expanded "><a href="../stale/0054-remove-heap-pages.html">RFC-0054: Remove the concept of "heap pages" from the client</a></li><li class="chapter-item expanded "><a href="../stale/0070-x-track-kusamanetwork.html">RFC-0070: X Track for @kusamanetwork</a></li><li class="chapter-item expanded "><a href="../stale/0073-referedum-deposit-track.html">RFC-0073: Decision Deposit Referendum Track</a></li><li class="chapter-item expanded "><a href="../stale/0074-stateful-multisig-pallet.html">RFC-0074: Stateful Multisig Pallet</a></li><li class="chapter-item expanded "><a href="../stale/0077-increase-max-length-of-identity-pgp-fingerprint-value.html">RFC-0077: Increase maximum length of identity PGP fingerprint values from 20 bytes</a></li><li class="chapter-item expanded "><a href="../stale/0088-broker-pallet-slashable-deposit-purchaser-reputation-reserved-cores.html">RFC-0088: Add slashable locked deposit, purchaser reputation, and reserved cores for on-chain identities to broker pallet</a></li><li class="chapter-item expanded "><a href="../stale/0102-offchain-parachain-runtime-upgrades.html">RFC-0000: Feature Name Here</a></li><li class="chapter-item expanded "><a href="../stale/0106-xcm-remove-fees-mode.html">RFC-0106: Remove XCM fees mode</a></li><li class="chapter-item expanded "><a href="../stale/0111-pure-proxy-replication.html">RFC-0111: Pure Proxy Replication</a></li><li class="chapter-item expanded "><a href="../stale/0112-compress-state-response-message-in-state-sync.html">RFC-0112: Compress the State Response Message in State Sync</a></li><li class="chapter-item expanded "><a href="../stale/0117-unbrick-collective.html">RFC-0117: The Unbrick Collective</a></li><li class="chapter-item expanded "><a href="../stale/0124-extrinsic-version-5.html">RFC-0124: Extrinsic version 5</a></li><li class="chapter-item expanded "><a href="../stale/0138-invulnerable-collator-election.html">RFC-0138: Election mechanism for invulnerable collators on system chains</a></li><li class="chapter-item expanded "><a href="../stale/0154-multi-slot-aura.html">RFC-0154: AURA Multi-Slot Collation </a></li><li class="chapter-item expanded "><a href="../stale/0155-pUSD.html">RFC-0155: pUSD (Polkadot USD over-collateralised debt token)</a></li><li class="chapter-item expanded "><a href="../stale/0158-storage-proof-size-v2.html">RFC-0158: Storage Proof Size Host Function Version 2</a></li><li class="chapter-item expanded "><a href="../stale/0159-spend-canceller-track.html">RFC-0000: Spend Canceller Track</a></li><li class="chapter-item expanded "><a href="../stale/0161-discussion-phase-for-opengov-referenda.html" class="active">RFC-0161: Discussion Period for OpenGov Referenda</a></li><li class="chapter-item expanded "><a href="../stale/RFC-114 Adjust Tipper Track Confirmation Periods.html">RFC-114: Adjust Tipper Track Confirmation Periods</a></li><li class="chapter-item expanded "><a href="../stale/xxxx-improve-the-security-of-proof-of-possession.html">RFC-XXXX: Adding customized mandatory context to proof of possession statement</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <!-- Track and set sidebar scroll position -->
        <script>
            var sidebarScrollbox = document.querySelector('#sidebar .sidebar-scrollbox');
            sidebarScrollbox.addEventListener('click', function(e) {
                if (e.target.tagName === 'A') {
                    sessionStorage.setItem('sidebar-scroll', sidebarScrollbox.scrollTop);
                }
            }, { passive: true });
            var sidebarScrollTop = sessionStorage.getItem('sidebar-scroll');
            sessionStorage.removeItem('sidebar-scroll');
            if (sidebarScrollTop) {
                // preserve sidebar scroll position when navigating via links within sidebar
                sidebarScrollbox.scrollTop = sidebarScrollTop;
            } else {
                // scroll sidebar to current active section when navigating via "next/previous chapter" buttons
                var activeSection = document.querySelector('#sidebar .active');
                if (activeSection) {
                    activeSection.scrollIntoView({ block: 'center' });
                }
            }
        </script>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="polkadot">Polkadot</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Polkadot Fellowship RFCs</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <p><a href="https://github.com/polkadot-fellows/RFCs/pull/161">(source)</a></p>
<p><strong>Table of Contents</strong></p>
<ul>
<li><a href="#rfc-0161-discussion-period-for-opengov-referenda">RFC-0161: Discussion Period for OpenGov Referenda</a>
<ul>
<li><a href="#summary">Summary</a></li>
<li><a href="#motivation">Motivation</a>
<ul>
<li><a href="#problem-statement">Problem Statement</a></li>
<li><a href="#current-lifecycle">Current Lifecycle</a></li>
<li><a href="#proposed-lifecycle">Proposed Lifecycle</a></li>
<li><a href="#typical-use-cases">Typical Use Cases</a></li>
</ul>
</li>
<li><a href="#stakeholders">Stakeholders</a></li>
<li><a href="#explanation">Explanation</a>
<ul>
<li><a href="#struct-changes">Struct Changes</a></li>
<li><a href="#new-events">New Events</a></li>
<li><a href="#new-errors">New Errors</a></li>
<li><a href="#new-update_referendum-extrinsic">New <code>update_referendum()</code> Extrinsic</a></li>
<li><a href="#state-machine-transitions">State Machine Transitions</a></li>
<li><a href="#votes-during-discussion">Votes During Discussion</a></li>
<li><a href="#suggested-discussion-period-values">Suggested Discussion Period Values</a></li>
</ul>
</li>
<li><a href="#drawbacks">Drawbacks</a>
<ul>
<li><a href="#state-management-complexity">State Management Complexity</a></li>
<li><a href="#extended-timeline">Extended Timeline</a></li>
<li><a href="#deposit-complexity">Deposit Complexity</a></li>
</ul>
</li>
<li><a href="#testing-security-and-privacy">Testing, Security, and Privacy</a>
<ul>
<li><a href="#testing">Testing</a></li>
<li><a href="#security-considerations">Security Considerations</a></li>
<li><a href="#privacy">Privacy</a></li>
</ul>
</li>
<li><a href="#performance-ergonomics-and-compatibility">Performance, Ergonomics, and Compatibility</a>
<ul>
<li><a href="#performance">Performance</a></li>
<li><a href="#ergonomics">Ergonomics</a></li>
<li><a href="#compatibility">Compatibility</a></li>
</ul>
</li>
<li><a href="#prior-art-and-references">Prior Art and References</a>
<ul>
<li><a href="#off-chain-discussion-and-negotiation">Off-Chain Discussion and Negotiation</a></li>
</ul>
</li>
<li><a href="#future-directions">Future Directions</a>
<ul>
<li><a href="#refactor-state-management">Refactor State Management</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<h1 id="rfc-0161-discussion-period-for-opengov-referenda"><a class="header" href="#rfc-0161-discussion-period-for-opengov-referenda">RFC-0161: Discussion Period for OpenGov Referenda</a></h1>
<div class="table-wrapper"><table><thead><tr><th></th><th></th></tr></thead><tbody>
<tr><td><strong>Start Date</strong></td><td>22 December 2025</td></tr>
<tr><td><strong>Description</strong></td><td>Introduce a mandatory discussion period during which the preimage and origin of a referendum can be changed</td></tr>
<tr><td><strong>Authors</strong></td><td>Tommi Enenkel</td></tr>
</tbody></table>
</div>
<h2 id="summary"><a class="header" href="#summary">Summary</a></h2>
<p>This RFC proposes a new <strong>discussion period</strong> for OpenGov referenda that precedes the existing prepare period. During the discussion period, the original proposer can modify the referendum's preimage and origin, enabling on-chain response to negotiation and refinement of proposals before voting outcomes become binding. Once the discussion period concludes, the referendum transitions to the prepare period (which can be skipped if decision conditions are already met) and the preimage and track become immutable.</p>
<p>Todo:</p>
<ul>
<li>which tracks how long?</li>
</ul>
<h2 id="motivation"><a class="header" href="#motivation">Motivation</a></h2>
<h3 id="problem-statement"><a class="header" href="#problem-statement">Problem Statement</a></h3>
<p>In the current OpenGov design, once a referendum is submitted on-chain, its preimage (the proposal content) and origin cannot be changed. This creates several practical problems:</p>
<ol>
<li><strong>Preimage Errors</strong>: Technical errors in preimages (incorrect parameters, wrong origins, miscalculated amounts) currently require a complete resubmission rather than a simple correction.</li>
<li><strong>Throwaway Referenda</strong>: Proposals that receive negative feedback early on cannot be adjusted. Instead, they must be resubmitted as new referenda, creating unnecessary on-chain clutter and fragmenting discussion over several referenda</li>
<li><strong>Cross-Referencing Burden</strong>: When a proposal is resubmitted, stakeholders must cross-reference the old referendum to understand the proposal's history, which creates an unnecessary mental burden.</li>
</ol>
<h3 id="current-lifecycle"><a class="header" href="#current-lifecycle">Current Lifecycle</a></h3>
<p>The current referendum lifecycle is:</p>
<pre><code>Submission → Prepare → Decision → Confirmation → Enactment
</code></pre>
<p>From the Prepare period onward:</p>
<ul>
<li>Votes can be cast (but don't trigger approval/confirmation logic)</li>
<li>The preimage and origin are locked</li>
<li>The proposer cannot make changes based on community feedback</li>
</ul>
<h3 id="proposed-lifecycle"><a class="header" href="#proposed-lifecycle">Proposed Lifecycle</a></h3>
<p>This RFC proposes adding a Discussion period before the prepare period:</p>
<pre><code>Submission → Discussion → Prepare → Decision → Confirmation → Enactment
</code></pre>
<p>During the discussion period:</p>
<ul>
<li>Community feedback is gathered</li>
<li>No votes can be cast yet</li>
<li>A decision deposit MAY already be placed</li>
<li>The proposer MAY modify the preimage and origin
<ul>
<li>An adjustment to the decision deposit might become neccessary (topping up or receiving a refund).</li>
<li>Changes to the discussion time might be resulting from the track change</li>
</ul>
</li>
<li>Once Discussion ends, the proposal is locked</li>
</ul>
<h3 id="typical-use-cases"><a class="header" href="#typical-use-cases">Typical Use Cases</a></h3>
<ol>
<li>
<p><strong>Negotiated Treasury Proposals</strong>: A team requests 100,000 USD in stables. During discussion, the community suggests a phased approach with milestones. The proposer can adjust the preimage to reflect this without resubmitting.</p>
</li>
<li>
<p><strong>Preimage Value Fixes</strong>: A wrongly calculated amount due to denomination errors can be corrected in place.</p>
</li>
<li>
<p><strong>Scope Refinement</strong>: Based on community discussion, a proposal's scope can be narrowed or expanded to better reflect consensus.</p>
</li>
<li>
<p><strong>Origin Corrections</strong>: A proposer accidentally submits to the wrong origin. They can correct this during discussion rather than cancelling and resubmitting.</p>
</li>
<li>
<p><strong>Technical Parameter Adjustments</strong>: A proposal to change a runtime parameter receives feedback that a different value would be more appropriate. The proposer can adjust accordingly.</p>
</li>
</ol>
<h2 id="stakeholders"><a class="header" href="#stakeholders">Stakeholders</a></h2>
<ul>
<li>
<p><strong>DOT Token Holders/Voters</strong>: Lowers mental burden to follow proposals. Their participation in feedback and negotiation is directly reflected in proposals, which increases confidence in the process.</p>
</li>
<li>
<p><strong>Proposers</strong>: Can iterate on proposals based on feedback without the friction of resubmission. Reduces UX friction and frustration. Maintains continuity of discussion.</p>
</li>
<li>
<p><strong>Governance Platforms</strong> (Polkassembly, SubSquare): Need to display discussion period status, show proposal change history of preimage and track changes, </p>
</li>
</ul>
<h2 id="explanation"><a class="header" href="#explanation">Explanation</a></h2>
<p>All changes refer to <code>pallet-referenda</code>.</p>
<h3 id="struct-changes"><a class="header" href="#struct-changes">Struct Changes</a></h3>
<ul>
<li><code>types.rs</code>
<ul>
<li><code>TrackDetails</code> is extended with a new <code>discussion_period: Moment</code> field</li>
<li><code>ReferendumStatus</code> is extended with a new <code>discussion_ended: Option&lt;Moment&gt;</code> field</li>
</ul>
</li>
</ul>
<h3 id="new-events"><a class="header" href="#new-events">New Events</a></h3>
<p>The <code>Event</code> enum in <code>lib.rs</code> is extended with new events:</p>
<ul>
<li><code>ReferendumUpdated</code></li>
<li><code>PrepareStarted</code></li>
<li><code>DecisionDepositReduced</code></li>
<li><code>DecisionDepositIncreased</code></li>
</ul>
<h3 id="new-errors"><a class="header" href="#new-errors">New Errors</a></h3>
<p>The <code>Error</code> enum in <code>pallet-referenda</code> is extended with new errors:</p>
<ul>
<li><code>DiscussionConcluded</code></li>
</ul>
<h3 id="new-update_referendum-extrinsic"><a class="header" href="#new-update_referendum-extrinsic">New <code>update_referendum()</code> Extrinsic</a></h3>
<p>A new dispatchable function is added: <code>update_referendum()</code></p>
<p>The logic follows the basic pattern of <code>submit()</code>.Track changes might require to update the decision deposit and discussion period lenght:</p>
<ul>
<li>Updating the decision deposit: If the decision deposit has already been placed, the difference to the new track decision deposit MUST be topped up / refunded immediately.</li>
<li>Discussion period changes: Discussion period length is determined by the track. Changing the origin/track can also lead to a different discussion period length. If the new track requires a discussion period that is shorter than the time that has already passed when updating the referendum, the referendum will immediately move to the next state. Else, the period will be extended.</li>
</ul>
<p>Given an <code>index</code>, a <code>proposal_origin</code> and a <code>proposal</code>:</p>
<ul>
<li>check preimage length</li>
<li>get <code>status</code> by calling <code>ensure_ongoing()</code></li>
<li>if <code>status.discussion_ended</code> is set, we return an <code>DiscussionConcluded</code> error</li>
<li>If the <code>status.proposal_origin != proposal_origin</code>, we determine the new <code>track</code>
<ul>
<li>If <code>status.decision_deposit != None</code>, and 
<ul>
<li>if <code>track.decision_deposit</code> is bigger than the amount in <code>status.decision_deposit</code>, the proposer pays the difference as deposit and we emit <code>DecisionDepositIncreased</code>.</li>
<li>else, the proposer will receive the difference and we emit <code>DecisionDepositReduced</code></li>
</ul>
</li>
<li>Calculate the new <code>discussion_end</code> as <code>status.submitted + track.discussion_period</code>.
<ul>
<li>If <code>now &gt;= discussion_end</code>, we move to the next state.</li>
<li>Else, we set <code>status.alarm</code> to <code>discussion_end</code>.</li>
</ul>
</li>
</ul>
</li>
<li>emit <code>ReferendumUpdated</code></li>
</ul>
<h3 id="state-machine-transitions"><a class="header" href="#state-machine-transitions">State Machine Transitions</a></h3>
<p>The modified state machine operates as follows:</p>
<h4 id="1-submission"><a class="header" href="#1-submission">1. Submission</a></h4>
<p>When a referendum is submitted via <code>submit()</code>:</p>
<ul>
<li><code>alarm</code> is set to <code>now + track.discussion_period</code></li>
<li>if <code>track.discussion_period</code> is 0, the referendum enter the prepare period, else we advance to the next state (either by setting the state properties or by calling <code>service_referendum()</code>)</li>
</ul>
<h4 id="2-discussion-period--prepare-period"><a class="header" href="#2-discussion-period--prepare-period">2. Discussion Period → Prepare Period</a></h4>
<p>When <code>service_referendum()</code> either directly or via <code>nudge_referendum()</code> after <code>alarm</code>:</p>
<ul>
<li>The referendum enters the prepare period</li>
<li><code>status.discussion_ended</code> is set to <code>now</code></li>
<li>Check if conditions for entering the decision period are already met:
<ul>
<li>decision deposit is placed</li>
<li>track has capacity</li>
</ul>
</li>
<li>If conditions are met: <strong>skip prepare period entirely</strong> and enter decision immediately, emitting <code>DecisionStarted</code></li>
<li>If not: enter in prepare period as was previously the case during <code>submit()</code> and emit <code>PrepareStarted</code></li>
</ul>
<h4 id="3-prepare-period--decision-phase"><a class="header" href="#3-prepare-period--decision-phase">3. Prepare Period → Decision Phase</a></h4>
<p>Standard transition as currently implemented.</p>
<h3 id="votes-during-discussion"><a class="header" href="#votes-during-discussion">Votes During Discussion</a></h3>
<p>No votes may be cast during the discussion phase. This is a change from the previous model and require additional changes in the pallet's logic.</p>
<h3 id="suggested-discussion-period-values"><a class="header" href="#suggested-discussion-period-values">Suggested Discussion Period Values</a></h3>
<p>The following durations are suggested:</p>
<ul>
<li>Treasurer, Treasury spend origins should be discussed 14 days</li>
<li>Treasury tip origins are intended for low-risk spends on shorter cycles. We suggest 7 days</li>
<li>Whitelisted Caller, Canceller and Killer tracks are time sensitive. Instant progression to the prepare stage is indicated.</li>
<li>All other (technical) origins are likely invoked by competent users that followed proper off-chain preparation procedures. We give 3 days discussion time to allow corrections, as sometimes a proposal gets accidentally submitted to the wrong track.</li>
</ul>
<p>In the <code>runtimes</code> repo, add <code>discussion_period</code> to all track configurations for the AssetHub and system chains where applicable</p>
<h2 id="drawbacks"><a class="header" href="#drawbacks">Drawbacks</a></h2>
<h3 id="state-management-complexity"><a class="header" href="#state-management-complexity">State Management Complexity</a></h3>
<p>Adding a new state increases the complexity of the referendum lifecycle. A review of <code>pallet-referenda</code> shows that currently state management is already non-trivial to follow. A more thorough review and refactoring of the state management might be inficated.</p>
<h3 id="extended-timeline"><a class="header" href="#extended-timeline">Extended Timeline</a></h3>
<p>Adding a discussion period extends the minimum time before a referendum can be enacted. Decision periods could be shortened by some duration up to the discussion period length to not produce unneccessary long cycles. Bringing the discussion period on-chain will lead stakeholders to consider refs earlier and allows for shorter decision periods. Technically it is still possible the proposal never goes into voting if the decision deposit is not placed, so not shortening the decision period by the full discussion period amount could be prudent.</p>
<h3 id="deposit-complexity"><a class="header" href="#deposit-complexity">Deposit Complexity</a></h3>
<p>Track changes may require deposit adjustments (additional deposit for higher tracks, refunds for lower tracks), adding complexity to the deposit management logic.</p>
<h2 id="testing-security-and-privacy"><a class="header" href="#testing-security-and-privacy">Testing, Security, and Privacy</a></h2>
<h3 id="testing"><a class="header" href="#testing">Testing</a></h3>
<p>Suggested tests:</p>
<ul>
<li><strong>Unit Tests</strong>: Verify state transitions</li>
<li><strong>Integration Tests</strong>: Full lifecycle tests including discussion phase changes</li>
<li><strong>Scenario Tests</strong>: Track changes with deposit adjustments, preimage changes, edge cases at phase boundaries</li>
</ul>
<h3 id="security-considerations"><a class="header" href="#security-considerations">Security Considerations</a></h3>
<ol>
<li>
<p><strong>Access Control</strong>: Only the original proposer can update proposals. This is enforced at the extrinsic level.</p>
</li>
<li>
<p><strong>Deposit Safety</strong>: Track changes must properly handle deposit adjustments without allowing deposit extraction or manipulation.</p>
</li>
<li>
<p><strong>Alarm Handling</strong>: When tracks change, alarms must be properly rescheduled for the new track's parameters.</p>
</li>
</ol>
<h3 id="privacy"><a class="header" href="#privacy">Privacy</a></h3>
<p>No new privacy concerns.</p>
<h2 id="performance-ergonomics-and-compatibility"><a class="header" href="#performance-ergonomics-and-compatibility">Performance, Ergonomics, and Compatibility</a></h2>
<h3 id="performance"><a class="header" href="#performance">Performance</a></h3>
<p>New extrinsic and updated logic should have similar weight to existing operations</p>
<h3 id="ergonomics"><a class="header" href="#ergonomics">Ergonomics</a></h3>
<p><strong>Improved:</strong></p>
<ul>
<li>Proposers can iterate based on feedback</li>
<li>Reduced referendum clutter from resubmissions</li>
<li>Continuity of discussion history</li>
</ul>
<p><strong>Potentially Degraded:</strong></p>
<ul>
<li>Longer minimum timeline to enactment</li>
<li>Users will need to adapt to the new lifecycle</li>
</ul>
<h3 id="compatibility"><a class="header" href="#compatibility">Compatibility</a></h3>
<ul>
<li><code>TrackInfo</code> and <code>ReferendumStatus</code> struct gain a new field, requiring all track configurations to be updated</li>
<li><strong>Storage Migration</strong>: Existing referenda might need migration to add <code>discussion_ends: None</code> (already past discussion)</li>
<li><strong>API Changes</strong>: New extrinsics and events; existing functionality unchanged</li>
<li><strong>Governance Platform Updates</strong>: Required to display discussion phase properly</li>
<li><strong>Changes to Events</strong>: Changing the way events are emitted and the state machine operates might lead indexers that do not update in time or do not properly update to misread the state progression. This is acceptable, since the proposed changes are not too invasive, and following events to understand state is not the suggested anyways.</li>
</ul>
<h2 id="prior-art-and-references"><a class="header" href="#prior-art-and-references">Prior Art and References</a></h2>
<h3 id="off-chain-discussion-and-negotiation"><a class="header" href="#off-chain-discussion-and-negotiation">Off-Chain Discussion and Negotiation</a></h3>
<p>Requiring pre-decision discussions to happen have been established criteria by several high-profile voters for years. Similarly, proposals without proper consensus were negotiated to submit updated extrinsics. This RFC moves some of that iterative process on-chain, providing a formal mechanism for proposal refinement.</p>
<h2 id="future-directions"><a class="header" href="#future-directions">Future Directions</a></h2>
<h3 id="refactor-state-management"><a class="header" href="#refactor-state-management">Refactor State Management</a></h3>
<p>State management in the pallet relies on several different properties. Some other smaller improvements that increase legibility.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../stale/0159-spend-canceller-track.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="../stale/RFC-114 Adjust Tipper Track Confirmation Periods.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../stale/0159-spend-canceller-track.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="../stale/RFC-114 Adjust Tipper Track Confirmation Periods.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="../elasticlunr.min.js"></script>
        <script src="../mark.min.js"></script>
        <script src="../searcher.js"></script>

        <script src="../clipboard.min.js"></script>
        <script src="../highlight.js"></script>
        <script src="../book.js"></script>

        <!-- Custom JS scripts -->


    </div>
    </body>
</html>
